############################################
# MediaWiki Configuration
############################################

# Base URL of the MediaWiki API endpoint
# Example:
#   https://wiki.example.org/api.php

# MediaWiki bot credentials


############################################
# OpenAI / LLM Configuration
############################################

# OpenAI API key used for:
# - Chat completions
# - Vector embeddings
OPENAI_API_KEY=sk-REPLACE_WITH_REAL_KEY

# Default chat model for LLM completions
OPENAI_MODEL=gpt-4o-mini

# Default embedding model
EMBEDDING_MODEL=text-embedding-3-large


############################################
# JWT Authentication Secrets (Bidirectional)
############################################
# IMPORTANT:
# - These MUST be long, random, and kept secret.
# - Minimum recommended length: 32 characters.
# - NEVER reuse these across environments.

# Multi-Wiki Credentials (JSON Map)
# Use a JSON string mapping wiki_id -> {mw_to_mcp_secret, mcp_to_mw_secret}
# Note: In .env files, you generally need to keep this on one line or use appropriate quoting.
WIKI_CREDS='{"default-wiki": {"mw_to_mcp_secret": "REPLACE_WITH_LONG_RANDOM_SECRET_FROM_MW", "mcp_to_mw_secret": "REPLACE_WITH_LONG_RANDOM_SECRET_TO_MW"}}'


############################################
# Database (PostgreSQL + pgvector)
############################################

# PostgreSQL password (used by docker-compose and DATABASE_URL)
DB_PASSWORD=changeme

# SQLAlchemy async connection URL
# Note: docker-compose sets this automatically using DB_PASSWORD
# Only override if running outside Docker
# DATABASE_URL=postgresql+asyncpg://mcp:changeme@localhost:5432/mcp


############################################
# Rate Limiting
############################################

# Maximum tokens a user can consume per day
# Default: 100,000 (~$0.30/day at GPT-4o-mini prices)
# Set lower for tighter cost control, higher for power users
DAILY_TOKEN_LIMIT=100000


############################################
# Namespace Access Control
############################################

# Comma-separated list of MediaWiki namespace IDs
# allowed for public vector search
# Common examples:
#   0  = Main
#   14 = Category
#   3000 = Custom namespace
ALLOWED_NAMESPACES_PUBLIC=0,14

